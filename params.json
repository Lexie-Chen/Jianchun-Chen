{"name":"Jianchun-chen","tagline":"This is my portfolio.","body":"# Interactive Map of Another China You May Not Know\r\n\r\n##\r\n- Collected and edited news stories of the \u001Flming of Another China You May Not Know\r\n- Facilitated storytelling and design of interactive map using HTML5, CSS\r\n\r\n<http://hudong.jstv.com/ucmap/defaultNew.aspx>\r\n\r\n'<!DOCTYPE html>\r\n<html>\r\n<head runat=\"server\">\r\n    <meta charset=\"utf-8\" />\r\n    <title>地图</title>\r\n\r\n   <%-- <script src=\"http://api.map.baidu.com/api?v=2.0&ak=95E307e6aefce284ccadc4b5944d49b6\"></script>  --%>  \r\n    <script type=\"text/javascript\" src=\"http://api.map.baidu.com/api?v=1.2\"></script>\r\n    <script src=\"images/jquery-1.8.2.min.js\"></script>   \r\n\r\n    <style type=\"text/css\">\r\n\t    .infoBoxContent{font-size:12px;}\r\n\t    .infoBoxContent .title{background:url(title.jpg) no-repeat;height:42px;width:272px;}\r\n\t    .infoBoxContent .title strong{font-size:14px;line-height:42px;padding:0 10px 0 5px;}\r\n\t    .infoBoxContent .title .price{color:#FFFF00;}\r\n\t    .infoBoxContent .list{width:268px;border:solid 1px #4FA5FC;border-top:none;background:#fff;height:260px;}\r\n\t    .infoBoxContent .list ul{margin:0;padding:5px;list-style:none;}\r\n\t    .infoBoxContent .list ul li {float:left;width:255px;border-bottom:solid 1px #4FA5FC;padding:2px 0;}\r\n\t    .infoBoxContent .list ul .last{border:none;}\r\n\t    .infoBoxContent .list ul img{width:53px;height:42px;margin-right:5px;}\r\n\t    .infoBoxContent .list ul p{padding:0;margin:0;}\r\n\t    .infoBoxContent .left{float:left;}\r\n\t    .infoBoxContent .rmb{float:right;color:#EB6100;font-size:14px;font-weight:bold;}\r\n\t    .infoBoxContent a{color:#0041D9;text-decoration:none;}\r\n    </style>\r\n\r\n    <script type=\"text/javascript\">\r\n        $(function () {\r\n            $(\".tab li\").click(function () {\r\n                $(\".tab li\").removeClass(\"tab_cur\");\r\n                $(this).attr(\"class\", \"tab_cur\");\r\n                var index = $(\".tab li\").index($(this));\r\n                $(\".search_rlt\").css(\"display\", \"none\");\r\n                $(\".search_rlt\")[index].style.display = \"block\";\r\n            });\r\n\r\n        })\r\n    </script>\r\n\r\n</head>\r\n<body>\r\n    <form id=\"form1\" runat=\"server\">\r\n\r\n        <div id=\"content\">\r\n            <div class=\"wrapper\">\r\n                <div class=\"trip\">\r\n                    <div class=\"trip_title\"><span>独家路线感受独特中国魅力</span></div>\r\n                    <div class=\"trip_cont\">\r\n                        <div class=\"trip_l\">\r\n                            <ul class=\"tab\">\r\n                                <%--<li id=\"tab_1\" class=\"tab_cur\">全部</li>--%>\r\n                                <li id=\"tab_1\" class=\"tab_cur\">独家路线</li>\r\n                                <li id=\"tab_2\">行走进程</li>\r\n                                <li id=\"tab_4\">&nbsp;</li>\r\n                            </ul>\r\n                            <input id=\"search\" type=\"search\" placeholder=\"搜索目的地关键字\" onfocus=\"searchFocus()\" onblur=\"searchOut()\"  onkeydown=\"if(event.keyCode == 13){return false;}else{searchKeyDown()}\"  />\r\n                            \r\n                            <%--<ul class=\"search_rlt\" style=\"display: block\">\r\n                                <%                                                                                                          \r\n                                    for (int i = 0; i < AllList.Count; i++)\r\n                                    {\r\n                                        var item = AllList[i]; %>                                \r\n                                <li>\r\n                                    <a href=\"#\" onclick='showcurrentmark(<%=item.ID %>);' >\r\n                                    <h1><%=(i+1).ToString() + \".\" + item.Title %></h1>\r\n                                    <span><%=item.LocationString %></span>\r\n                                    </a>\r\n                                </li>\r\n                                <%} %>\r\n                            </ul>--%>\r\n                            <ul class=\"search_rlt\" style=\"display: block\">\r\n                                <%for (int i = 0; i < Type1List.Count; i++)\r\n                                    {\r\n                                        var item = Type1List[i]; %>                                \r\n                                <li>\r\n                                    <a href=\"#\" onclick='showcurrentmark(<%=item.ID %>);' >\r\n                                    <h1><%=(i+1).ToString() + \".\" + item.Title %></h1>\r\n                                    <span><%=item.LocationString %></span>\r\n                                    </a>\r\n                                </li>\r\n                                <%} %>                                \r\n                            </ul>\r\n                            <ul class=\"search_rlt\">\r\n                                <%for (int i = 0; i < Type2List.Count; i++)\r\n                                    {\r\n                                        var item = Type2List[i]; %>                               \r\n                                <li>\r\n                                    <div class=\"xzjc\">\r\n                                        <a href=\"#\" onclick='showcurrentmark(<%=item.ID %>);' >\r\n                                            <h1><%=(i+1).ToString() + \".\" + item.Title %></h1>\r\n                                            <h2 style='<%= (item.CollectState == 1)? @\"color:#999999\" : ((item.CollectState > 1 && item.CollectState < 5)?@\"color:#587eb3\" :((item.CollectState == 5 )?@\"color:#d93736\":\"\" ))  %>'>\r\n                                                <%= (item.CollectState == 1)? \"蓄势待发\" : ((item.CollectState > 1 && item.CollectState < 5)?\"正在途中\" :((item.CollectState == 5 )?\"拍摄完成\":\"\" ))  %>\r\n                                            </h2>                                          \r\n                                        </a>\r\n                                    </div>\r\n                                    <div class=\"jd\"><img src='<%= (item.CollectState == 1)? @\"images/0.gif\" : ((item.CollectState == 2)?@\"images/30.gif\" :(item.CollectState==3)?@\"images/60.gif\":(item.CollectState==4)?@\"images/90.gif\":((item.CollectState == 5 )?@\"images/100.gif\":\"\" ))  %>'></div>        \r\n                                </li>\r\n                                <%} %>\r\n                            </ul>\r\n                        </div>\r\n                        <div id=\"map\" class=\"trip_r\">\r\n                          \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>       \r\n\r\n        <script type=\"text/javascript\">\r\n            var markerlist;\r\n            var marker = new Array();\r\n            var windowarray = new Array();\r\n            var map;\r\n            map = new BMap.Map('map');\r\n            //var mapStyle = { style: \"googlelite\" }\r\n            //map.setMapStyle(mapStyle);\r\n            var startpoi = new BMap.Point(106.99882, 37.728137);\r\n            map.centerAndZoom(startpoi, 5);\r\n            map.enableScrollWheelZoom();\r\n\r\n            $.post('GetAllMark.aspx', function (data) {\r\n                markerlist = data.List;\r\n                if (data.Success) {\r\n                    for (var i = 0; i < data.List.length; i++) {\r\n                        var poi = new BMap.Point(data.List[i].Logitude, data.List[i].Latitude);\r\n                        var icon;\r\n                        icon = new BMap.Icon(\"Http://hudongstatic.jstv.com/ChinaImage2014Map/icon.png\", new BMap.Size(27, 38));\r\n                        if (data.List[i].SpotType == 1) {                            \r\n                            var html = \"<div class='trip_hint'><img src='\" + data.List[i].ImageUrl + \"' alt='' /><h1>\" + data.List[i].Title + \"</h1><p>\" + data.List[i].Description + \"</p><a href='\" + data.List[i].LinkUrl + \"' target='_blank'>查看详情</a></div>\";\r\n                            var infoWindow = new BMap.InfoWindow(html, { enableMessage: false, enableCloseOnClick: false, enableAutoPan: true });\r\n                            windowarray[i] = infoWindow;\r\n\r\n                            marker[i] = new BMap.Marker(poi, { icon: icon });\r\n                            map.addOverlay(marker[i]);\r\n\r\n                            mclick(marker[i], infoWindow)\r\n                        }\r\n                        else {\r\n                            marker[i] = new BMap.Marker(poi, { icon: icon });\r\n                            //map.addOverlay(marker[i]);\r\n                        }\r\n                    }\r\n                    //var markerClusterer = new BMapLib.MarkerClusterer(map, { markers: marker });\r\n                }\r\n            }, 'json');\r\n\r\n            function mclick(m, w) {\r\n                m.addEventListener('click', function (e) {\r\n                    this.openInfoWindow(w);\r\n                })\r\n            }\r\n\r\n            function showcurrentmark(id) {\r\n                for (var i = 0; i < markerlist.length; i++) {\r\n                    if (markerlist[i].ID == id) {\r\n                        var poi = new BMap.Point(markerlist[i].Logitude, markerlist[i].Latitude);\r\n                        if (markerlist[i].SpotType == 1) {\r\n                            for (var j = 0; j < marker.length; j++) {\r\n\r\n                                if (marker[j].getPosition().lng == poi.lng && marker[j].getPosition().lat == poi.lat) {\r\n                                    marker[j].openInfoWindow(windowarray[j])\r\n                                    break;\r\n                                }\r\n                            }\r\n                            break;\r\n                        }\r\n                        else {\r\n                            map.centerAndZoom(poi, markerlist[i].Zoom);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            var searchTimeTag = null;\r\n            var shouldpost = false;\r\n            function searchFocus() {\r\n                searchTimeTag = setInterval(getSearch, 1500);\r\n            }\r\n            function searchOut() {\r\n                clearInterval(searchTimeTag);\r\n            }\r\n            function searchKeyDown(e) {\r\n                shouldpost = true;\r\n            }\r\n\r\n            function getSearch(searchTimeTag) {\r\n                if (shouldpost == true) {\r\n                    shouldpost = false;\r\n                    var keyword = $('#search').val();\r\n                    var cur_ul = $('.search_rlt').eq(parseInt($('.tab_cur').attr('id').split('_')[1]) - 1);\r\n                    if (keyword != \"\") {\r\n                        $.each(cur_ul.find('li'), function (i) {\r\n                            //alert(cur_ul.find('li').eq(i).find('h1').text())\r\n                            if (parseInt($('.tab_cur').attr('id').split('_')[1]) - 1 == 0) {\r\n                                if (cur_ul.find('li').eq(i).find('h1').text().indexOf(keyword) != -1) {\r\n                                    cur_ul.find('li').eq(i).show()\r\n                                }\r\n                                else {\r\n                                    cur_ul.find('li').eq(i).hide();\r\n                                }\r\n                            }\r\n                            else {\r\n                                if (cur_ul.find('li').eq(i).find('div').find('a').find('h1').text().indexOf(keyword) != -1) {\r\n                                    cur_ul.find('li').eq(i).show()\r\n                                }\r\n                                else {\r\n                                    cur_ul.find('li').eq(i).hide();\r\n                                }\r\n                            }\r\n                            \r\n                        })\r\n                    }\r\n                    else {\r\n                        cur_ul.find('li').show();\r\n                    }\r\n                }\r\n            }\r\n\r\n        </script>\r\n\r\n    </form>\r\n</body>\r\n</html>\r\n'","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}